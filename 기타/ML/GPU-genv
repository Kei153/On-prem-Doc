ğŸ’¡ Genv ë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ì„œëŠ” ì‚¬ì „ì— python, dockerê°€ ë¨¼ì € ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•¨â—ï¸ 
     ëª¨ë“  ì„¤ì¹˜ëŠ” ì‚¬ìš©ì ê³„ì •ì„ í†µí•´ sudo ê¶Œí•œì„ ì–»ì–´ ì„¤ì¹˜í•´ì•¼ í•œë‹¤ ğŸ”¥

# package manager update
sudo apt update
# check python3 version
python3 --version
# python3
sudo apt install python3.10
# check pip3 version
pip3 --version
# pip3
sudo apt install python3-pip


ğŸ’¡Docker ì„¤ì¹˜
https://docs.docker.com/engine/install/ubuntu/

# ë„ì»¤ daemon ìƒíƒœ í™•ì¸
systemctl status docker.socket
systemctl status docker.service


ğŸ’¡Genv ì„¤ì¹˜
# container toolkit ì„¤ì¹˜
sudo pip install genv
# toolkitì€ Genv í”„ë¡œì íŠ¸ ì €ì¥ì†Œì˜ ì¼ë¶€ì´ê¸°ì— í´ë¡ ì„ ë°›ì•„ì•¼ í•¨
git clone https://github.com/run-ai/genv.git $HOME/genv
# container toolkit components í™•ì¸
ls -la $HOME/genv/genv-docker



ğŸ’¡ë„ì»¤ service íŒŒì¼ì— ì„¤ì • ì¶”ê°€ ë° ì ìš©
# ë„ì»¤ socker, service ì¤‘ì§€
sudo systemctl stop docker.socket
sudo systemctl stop docker.service
# ë„ì»¤ service íŒŒì¼ ìœ„ì¹˜ í™•ì¸
sudo systemctl status docker.service
# ë„ì»¤ service íŒŒì¼ í¸ì§‘
sudo vi /path/to/docker.service
# docker.service íŒŒì¼ì— ì„¤ì • ì¶”ê°€
ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock -H 0.0.0.0:2375 --add-runtime genv=/home/laonpeople/genv/genv-docker/genv-container-runtime.py
# ë„ì»¤ daemon íŒŒì¼ í¸ì§‘
sudo cat /etc/docker/daemon.json
# daemon.json íŒŒì¼ì— ì„¤ì • ì¶”ê°€ 
{
  "runtimes": { âœ… ì´ê±´ ê¸°ì¡´ì— ìˆëŠ” ndivia ëŸ°íƒ€ì„ì—ë‹¤ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ..ê¸°ì¡´ê±° ì§€ìš°ì§€ ì•ŠëŠ”ë‹¤
    "genv": {
      "path": "/home/laonpeople/genv/genv-docker/genv-container-runtime.py"
    }
  }
}
# runtime ì¶”ê°€
sudo dockerd --add-runtime genv=$HOME/genv/genv-docker/genv-container-runtime.py
# docker wrapper ì„¤ì¹˜
sudo cp -f $HOME/genv/genv-docker/genv-docker.sh /usr/local/bin/genv-docker
# daemon ì¬ì‹œì‘
sudo systemctl daemon-reload
# ë„ì»¤ socket, service ì¬ì‹œì‘
sudo systemctl restart docker.socket
sudo systemctl restart docker.service
# ë„ì»¤ socket, service ìƒíƒœ í™•ì¸
sudo systemctl status docker.socket
sudo systemctl status docker.service
# genv ëŸ°íƒ€ì„ì´ ì œëŒ€ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸
sudo genv-docker run --rm ubuntu env | grep GENV_



ğŸ’¡
